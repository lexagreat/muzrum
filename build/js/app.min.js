const maskOptions={mask:"+{7} (000) 000-00-00"};document.querySelectorAll("[data-phone]").length&&document.querySelectorAll("[data-phone]").forEach(e=>{IMask(e,maskOptions)});const body=document.body;gsap.registerPlugin(ScrollTrigger);const lenis=new Lenis({duration:.4,smooth:!0,direction:"vertical"});function raf(e){lenis.raf(e),requestAnimationFrame(raf)}function headerWork(){const e=document.querySelector(".header");if(!e)return;document.querySelector("main.main")||e.classList.add("transparent")}function homePage(){gsap.to(".home-hero__bg",{scrollTrigger:{trigger:".home-page",start:"top 90%",end:"top -50%",scrub:1.5},opacity:1}),function(){const e=document.querySelector(".home-hero .swiper");if(!e)return;const t=document.querySelectorAll(".home-hero__pagination > div"),s=document.querySelectorAll(".home-hero__slide"),i=document.querySelectorAll(".progress-circle");new Swiper(e,{slidesPerView:1,mousewheel:{enabled:!1,forceToAxis:!0},speed:2e3,autoplay:{enabled:!0,delay:5e3},effect:"creative",loop:!0,allowTouchMove:!1,simulateTouch:!1,creativeEffect:{prev:{shadow:!0,translate:["-20%",0,-1]},next:{translate:["100%",0,0]}},on:{autoplayTimeLeft(e,t,s){i.forEach(e=>{e.style.strokeDashoffset=138*s})},slideNextTransitionEnd(e){let i=0;document.querySelector(".home-hero .swiper-slide.swiper-slide-active")&&(i=document.querySelector(".home-hero .swiper-slide.swiper-slide-active").getAttribute("data-swiper-slide-index")),t.forEach((e,t)=>{e.classList.remove("active")}),t[i].classList.add("active"),s.forEach((e,t)=>{e.classList.remove("active")}),s[i].classList.add("active")},init(){t[0].classList.add("active"),s[0].classList.add("active")}}});const l=document.querySelector(".home-hero__banner"),o=document.querySelector(".home-hero__clicker"),a=document.querySelector(".home-hero__form .icon-btn"),c=document.querySelector(".home-hero__thanks button");o.onclick=()=>{l.classList.add("step-2")},a.onclick=()=>{l.classList.remove("step-2"),l.classList.add("step-3")},c.onclick=()=>{l.classList.remove("step-2"),l.classList.remove("step-3"),l.classList.add("hidden")}}()}window.lenis=lenis,requestAnimationFrame(raf),document.addEventListener("DOMContentLoaded",()=>{headerWork(),homePage()});class Select{constructor(e,t){this.$el=document.querySelector(e),this.options=t,this.selectedId=t.selectedId,this.render(),this.setup()}render(){this.$el.classList.add("select");const{placeholder:e,data:t,selectedId:s}=this.options;this.$el.innerHTML=this.getTemplate(t,e,s),e&&this.$el.querySelector('[data-type="input"]').classList.add("placeholder")}setup(){this.clickHandler=this.clickHandler.bind(this),this.$el.addEventListener("click",this.clickHandler),this.$value=this.$el.querySelector('[data-type="input"] span')}clickHandler(e){const{type:t}=e.target.dataset;if("input"===t)this.toggle();else if("item"===t){const{id:t}=e.target.dataset;this.select(t)}else("back"===t||"header"===t||e.target.closest(".select__header"))&&this.toggle()}get current(){return this.options.multi?this.options.data.filter(e=>this.selectedId.some(t=>t===e.id)):this.options.data.find(e=>e.id===this.selectedId)}select(e){this.$el.querySelector('[data-type="input"]').classList.remove("placeholder"),this.options.multi?(this.selectedId.some(t=>t==e)?this.selectedId.splice(this.selectedId.findIndex(t=>t==e),1):this.selectedId.push(e),this.current.length?this.$value.innerHTML=this.current.map(e=>e.value).join(", "):this.$value.innerHTML=this.options.placeholder):(this.selectedId=e,this.$value.innerHTML=this.current.value),this.$el.querySelectorAll('[data-type="item"]').forEach(e=>{e.classList.remove("selected")}),this.options.multi?this.current.forEach(e=>{this.$el.querySelector(`[data-id='${e.id}']`).classList.add("selected")}):this.$el.querySelector(`[data-id='${this.current.id}']`).classList.add("selected"),this.options.multi||this.close(),this.options.onSelect&&this.options.onSelect(this.current,this.$el)}open(){this.$el.classList.add("open")}close(){this.$el.classList.remove("open")}toggle(){this.$el.classList.contains("open")?this.close():this.open()}getTemplate(e,t="<span></span>",s){const i=e.map(e=>{let i="";return(this.options.multi&&s.some(t=>t==e.id)||!this.options.multi&&e.id===s)&&(t=e.value,i="selected"),this.options.multi,`<li class="select__item ${i}" data-type="item" data-id="${e.id}">${e.value}</li>`});return`\n      <div class="select__header" data-type="header">\n      <div class="select__back" data-type="back"></div>\n      <div class="select__title" data-type="input">\n         <span>${t}</span>\n         <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">\n            <path fill-rule="evenodd" clip-rule="evenodd" d="M13.9334 6.08291C14.1498 6.29933 14.1498 6.6502 13.9334 6.86662L7.99991 12.8001L2.06643 6.86662C1.85002 6.6502 1.85002 6.29933 2.06643 6.08291C2.28285 5.8665 2.73748 5.86637 2.9539 6.08278L8.00027 11.0924L12.9972 6.08272C13.2136 5.86631 13.717 5.8665 13.9334 6.08291Z" fill="black"/>\n         </svg>      \n    </div>\n      </div>\n      <div class="select__content">\n         <ul class="select__list">\n            ${i.join("")}\n         </ul>\n      </div>\n      `}}
//# sourceMappingURL=../sourcemaps/app.min.js.map

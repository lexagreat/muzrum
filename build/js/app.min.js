const maskOptions={mask:"+{7} (000) 000-00-00"};document.querySelectorAll("[data-phone]").length&&document.querySelectorAll("[data-phone]").forEach(e=>{IMask(e,maskOptions)}),document.querySelectorAll("[data-date]").length&&document.querySelectorAll("[data-date]").forEach(e=>{IMask(e,{mask:"00.00.0000"})});const body=document.body;function aboutPage(){!function(){const e=document.querySelector(".about-hero__visual");if(!e)return;const t=document.querySelectorAll(".about-hero__text p");gsap.to(e,{scrollTrigger:{trigger:".about-hero",start:"top 0%",end:"+=500vh",markers:!1,scrub:1.5},marginRight:0,paddingTop:0}),gsap.to(".about-hero__image",{scrollTrigger:{trigger:".about-hero",start:"top 0%",end:"+=500vh",markers:!1,scrub:1.5},marginBottom:window.innerWidth>568?"24px":"12px",maxWidth:window.innerWidth>1024?"576px":window.innerWidth>568?"235px":"108px"}),gsap.to(".about-hero__logo",{scrollTrigger:{trigger:".about-hero",start:"top 0%",end:"+=500vh",markers:!1,scrub:1.5},maxWidth:window.innerWidth>1024?"576px":window.innerWidth>568?"235px":"108px"}),gsap.to(".about-hero__text",{scrollTrigger:{trigger:".about-hero__text",start:"top 90%",end:"bottom top",markers:!1,scrub:1.5,onUpdate(e){let o=100*e.progress,l=o>=55&&o<86,s=o>=86;o>0&&o<55&&(t[0].classList.add("black"),t[1].classList.remove("black"),t[2].classList.remove("black")),l&&(t[0].classList.remove("black"),t[1].classList.add("black"),t[2].classList.remove("black")),s&&(t[0].classList.remove("black"),t[1].classList.remove("black"),t[2].classList.add("black"))}}})}(),function(){const e=document.querySelector(".about-bosses__row");if(!e)return;const t=document.querySelectorAll(".about-bosses__header ul li"),o=document.querySelectorAll(".about-bosses__item"),l=document.querySelectorAll(".about-bosses__citate");gsap.to(e,{scrollTrigger:{trigger:e,start:"top 90%",end:"bottom top",markers:!1,scrub:1.5,onUpdate(e){let s=100*e.progress,a=s>=70;s>0&&s<70&&(t[0].classList.add("active"),t[1].classList.remove("active"),o[0].classList.add("active"),o[1].classList.remove("active"),l[0].classList.add("active"),l[1].classList.remove("active")),a&&(t[0].classList.remove("active"),t[1].classList.add("active"),o[0].classList.remove("active"),o[1].classList.add("active"),l[0].classList.remove("active"),l[1].classList.add("active"))}}})}(),function(){const e=document.querySelector(".about-preferences__wrapper");if(!e)return;const t=document.querySelectorAll(".about-preferences__image"),o=document.querySelectorAll(".about-preferences__item"),l=document.querySelector(".about-preferences__line div");gsap.to(e,{scrollTrigger:{trigger:e,start:"top 72px",end:"bottom top",markers:!1,scrub:1.5,onUpdate(e){let l=100*e.progress,s=l>=28&&l<66,a=l>=66;l>0&&l<28&&(t[0].classList.add("active"),t[1].classList.remove("active"),t[2].classList.remove("active"),o[0].classList.add("active"),o[1].classList.remove("active"),o[2].classList.remove("active")),s&&(t[1].classList.add("active"),t[2].classList.remove("active"),o[0].classList.remove("active"),o[1].classList.add("active"),o[2].classList.remove("active")),a&&(t[2].classList.add("active"),o[0].classList.remove("active"),o[1].classList.remove("active"),o[2].classList.add("active"))}}}),gsap.to(l,{scrollTrigger:{trigger:e,start:"top 72px",end:"bottom top",markers:!1,scrub:1.5},top:"100%",translate:"0 -100%"})}(),window.innerWidth<1025&&accordion(".about-team__header",".about-team__collapse"),tabs('[name="showroom"]',".about-showroom__image")}function headerWork(){const e=document.querySelector(".header");if(!e)return;document.querySelector("main.main")||e.classList.add("transparent"),document.querySelector(".white-header")&&e.classList.add("white");let t=0,o=document.querySelector(".hero");document.addEventListener("scroll",()=>{if(window.innerWidth>992){const o=document.documentElement.scrollTop;if(o<=0)return;t<o?e.classList.add("scroll-down"):e.classList.remove("scroll-down"),t=o}if(o){let t=o.clientHeight;window.scrollY>t?e.classList.remove("transparent"):e.classList.add("transparent")}}),(()=>{const e=document.querySelectorAll("[data-hover]");if(!e.length)return;let t,o;const l=document.querySelectorAll("[data-hover-target]"),s=document.querySelectorAll("[data-target-hover-target]"),a=document.querySelectorAll("[data-target-hover]"),r=document.querySelectorAll("[data-target-hover-image]"),c=document.querySelectorAll("[data-hover-image-target]");e.forEach(o=>{o.onmouseenter=()=>{t=o.getAttribute("data-hover"),e.forEach(e=>{e.classList.remove("active")}),o.classList.add("active");let a=document.querySelector(`[data-hover-target="${t}"]`);l.forEach(e=>{e.classList.remove("active")}),s.forEach(e=>{e.classList.remove("active")}),c.forEach(e=>{e.classList.remove("active")}),a.classList.add("active")}}),a.forEach(e=>{e.onmouseenter=()=>{o=e.getAttribute("data-target-hover"),a.forEach(e=>{e.classList.remove("active")}),e.classList.add("active");let t=document.querySelector(`[data-target-hover-target="${o}"]`);s.forEach(e=>{e.classList.remove("active")}),c.forEach(e=>{e.classList.remove("active")}),t.classList.add("active")}}),r.forEach(e=>{e.onmouseenter=()=>{r.forEach(e=>{e.classList.remove("active")}),e.classList.add("active");let t=document.querySelector(`[data-hover-image-target="${e.getAttribute("data-target-hover-image")}"]`);c.forEach(e=>{e.classList.remove("active")}),t.classList.add("active")}})})(),(()=>{const e=document.querySelectorAll(".header-menu__list li:has(button)");document.querySelector(".header-menu__upper .modal__close").onclick=()=>{document.querySelectorAll(".header-menu__sub").forEach(e=>{e.style.left="",e.style.marginLeft="",o()})},e.forEach(e=>{e.querySelector("button").onclick=()=>{t();let l=e.querySelector(".header-menu__sub");l.style.left="0",l.querySelector("button").onclick=()=>{o(),l.style.left=""};l.querySelectorAll("li:has(button)").forEach(e=>{let t=e.querySelector("button");t.onclick=()=>{l.style.marginLeft="-120vw";const e=t.closest("li").querySelector(".header-menu__sub");e.style.left="0",e.querySelector("button").onclick=()=>{e.style.left="",l.style.marginLeft=""}}})}});const t=()=>{document.querySelector(".header-menu .header-menu__list").style.marginLeft="-120vw",document.querySelector(".header-menu .header-catalog__popular").style.marginLeft="-120vw",document.querySelector(".header-menu .header-menu__contacts").style.marginLeft="-120vw"},o=()=>{document.querySelector(".header-menu .header-menu__list").style.marginLeft="",document.querySelector(".header-menu .header-catalog__popular").style.marginLeft="",document.querySelector(".header-menu .header-menu__contacts").style.marginLeft=""}})(),(()=>{const t=document.querySelector(".header-search"),o=document.querySelector(".header-search__close"),l=document.querySelector("#headerSearch");t.onclick=o=>{o.target.closest(".header-search__input")&&(t.classList.add("active"),e.style.zIndex=102,e.classList.add("transparent"),setTimeout(()=>{popupOpen(l)},400))},o.onclick=()=>{popupClose(l),e.classList.remove("transparent"),setTimeout(()=>{t.classList.remove("active"),e.style.zIndex=""},400)}})()}function homePage(){gsap.to(".home-hero__bg",{scrollTrigger:{trigger:".home-page",start:"top 90%",end:"top -50%",scrub:1.5},opacity:1}),function(){const e=document.querySelector(".home-hero .swiper");if(!e)return;const t=document.querySelectorAll(".home-hero__pagination > div"),o=document.querySelectorAll(".home-hero__slide"),l=document.querySelectorAll(".progress-circle");new Swiper(e,{slidesPerView:1,mousewheel:{enabled:!1,forceToAxis:!0},speed:2e3,autoplay:{enabled:!0,delay:5e3},effect:"creative",loop:!0,allowTouchMove:!1,simulateTouch:!1,creativeEffect:{prev:{shadow:!0,translate:["-20%",0,-1]},next:{translate:["100%",0,0]}},on:{autoplayTimeLeft(e,t,o){l.forEach(e=>{e.style.strokeDashoffset=138*o})},slideNextTransitionEnd(e){let l=0;document.querySelector(".home-hero .swiper-slide.swiper-slide-active")&&(l=document.querySelector(".home-hero .swiper-slide.swiper-slide-active").getAttribute("data-swiper-slide-index")),t.forEach((e,t)=>{e.classList.remove("active")}),t[l].classList.add("active"),o.forEach((e,t)=>{e.classList.remove("active")}),o[l].classList.add("active")},init(){t[0].classList.add("active"),o[0].classList.add("active")}}});const s=document.querySelector(".home-hero__banner"),a=document.querySelector(".home-hero__clicker"),r=document.querySelector(".home-hero__form .icon-btn"),c=document.querySelector(".home-hero__thanks button");a.onclick=()=>{s.classList.add("step-2")},r.onclick=()=>{s.classList.remove("step-2"),s.classList.add("step-3")},c.onclick=()=>{s.classList.remove("step-2"),s.classList.remove("step-3"),s.classList.add("hidden")}}(),function(){const e=document.querySelectorAll(".home-catalog__item");if(!e.length)return;const t=document.querySelectorAll(".home-catalog .home-catalog__arrow");e.forEach((e,o)=>{let l=t[o];e.onmouseenter=e=>{l.classList.add("active")},e.onmousemove=e=>{l.style.left=e.offsetX+"px",l.style.top=e.offsetY+"px"},e.onmouseleave=e=>{l.classList.remove("active")}})}(),function(){const e=document.querySelectorAll(".home-recommend__links a");if(!e.length)return;const t=document.querySelectorAll(".home-recommend__images > div"),o=document.querySelectorAll(".home-recommend__video > div");e.forEach((l,s)=>{l.onmouseenter=()=>{t.forEach((e,t)=>{t>s&&e.classList.remove("active")}),o.forEach((e,t)=>{e.classList.remove("active")}),e.forEach((e,t)=>{e.classList.remove("active")}),t[s].classList.add("active"),o[s].classList.add("active"),l.classList.add("active")}})}(),productSlider(".home-first"),productSlider(".home-second"),function(){const e=document.querySelector(".home-brands .marquee");if(!e)return;const t=e.offsetHeight/2,o=e.offsetWidth/2;window.innerWidth>1024?gsap.to(e,{y:-t,duration:10,ease:"linear",repeat:-1}):gsap.to(e,{x:-o,duration:10,ease:"linear",repeat:-1})}(),reviews(),blogCards(),tabs('[name="social"]',".social-tab")}function catalogPage(){if(!document.querySelector(".catalog-filters"))return;if(document.querySelector("#brandSelect")){new Select("#brandSelect",{placeholder:"Бренд",selectedId:[],multi:!0,data:[{value:"Casio",id:"Casio"},{value:"Becker",id:"Becker"},{value:"Korg",id:"Korg"},{value:"Kawai",id:"Kawai"},{value:"Rockdale",id:"Rockdale"},{value:"Kurzweil",id:"Kurzweil"},{value:"Roland",id:"Roland"},{value:"Nux",id:"Nux"},{value:"Ringway",id:"Ringway"},{value:"Orla",id:"Orla"},{value:"Yamaha",id:"Yamaha"},{value:"Mikado",id:"Mikado"},{value:"Artesia",id:"Artesia"},{value:"Antares",id:"Antares"},{value:"Medeli",id:"Medeli"},{value:"Tesler",id:"Tesler"}],onSelect(e,t){t.querySelectorAll(".selected").length&&t.classList.add("filled")}})}if(document.querySelector("#sortSelect")){new Select("#sortSelect",{placeholder:"Сортировка",selectedId:"",multi:!1,data:[{id:"vibor-muzrum",value:"выбор музрум"},{id:"sort1",value:"популярные"},{id:"sort2",value:"по новизне"},{id:"sort3",value:"по возрастанию цены"},{id:"sort4",value:"по убыванию цены"}],onSelect(e,t){t.querySelectorAll(".selected").length&&t.classList.add("filled")}})}(()=>{const e=document.querySelector(".rent-hero__visual .swiper");if(!e)return;let t=[{title:"Аренда цифровых пианино в Москве и МО",button:"подобрать",text:["Прокатный парк От официального дилера Yamaha, Casio, Roland, Korg, Nux и Rockdale"]},{title:"Новые инструменты и страховка от поломки",button:"",text:["Все наши инструменты с действующей гарантией производителя","Не бойтесь повредить инструмент во время аренды. Если что-то выйдет из строя, мы привезем вам новый, а неполадку устраним за счет гарантийного обслуживания."]},{title:"Аренда цифровых пианино в Москве и МО",button:"подобрать",text:["Прокатный парк От официального дилера Yamaha, Casio, Roland, Korg, Nux и Rockdale"]},{title:"Новые инструменты и страховка от поломки",button:"",text:["Все наши инструменты с действующей гарантией производителя","Не бойтесь повредить инструмент во время аренды. Если что-то выйдет из строя, мы привезем вам новый, а неполадку устраним за счет гарантийного обслуживания."]}];const o=async e=>{let o=t[e];const l=document.querySelector(".rent-hero__title"),s=document.querySelector(".rent-hero__list"),a=document.querySelectorAll(".rent-hero__info .btn p");var r;await async function(){let e=[...l.querySelectorAll("span"),...s.querySelectorAll("li span")],t=Array.from(e).map(e=>new Promise(t=>{gsap.to(e,{y:"-100%",duration:.3,ease:"linear",onComplete:t})}));return await Promise.all(t),!0}(),await(r=500,new Promise(e=>setTimeout(e,r))),l.innerHTML=`<p><span>${o.title}</span></p>`,s.innerHTML=o.text.map(e=>`<li><span>${e}</span></li>`).join(" "),o.button.length?(document.querySelector(".rent-hero__info .btn").classList.remove("hidden"),a.forEach(e=>{e.innerHTML=o.button})):document.querySelector(".rent-hero__info .btn").classList.add("hidden"),await async function(){let e=[...l.querySelectorAll("span"),...s.querySelectorAll("li span")],t=Array.from(e).map(e=>new Promise(t=>{gsap.from(e,{y:"100%",duration:.3,ease:"linear",onComplete:t})}));return await Promise.all(t),!0}()},l=document.querySelectorAll(".rent-hero .home-hero__pagination > div"),s=document.querySelectorAll(".rent-hero__visual .swiper .swiper-slide"),a=document.querySelectorAll(".progress-circle");new Swiper(e,{slidesPerView:1,creativeEffect:{prev:{shadow:!0,translate:["20px",0,-1],scale:.9},next:{translate:["100%",0,0]}},speed:1e3,autoplay:{enabled:!0,delay:5e3},effect:"creative",loop:!0,allowTouchMove:!1,simulateTouch:!1,effect:"creative",on:{autoplayTimeLeft(e,t,o){a.forEach(e=>{e.style.strokeDashoffset=138*o})},slideNextTransitionEnd(e){let t=0;document.querySelector(".rent-hero__visual .swiper-slide.swiper-slide-active")&&(t=document.querySelector(".rent-hero__visual .swiper-slide.swiper-slide-active").getAttribute("data-swiper-slide-index")),l.forEach((e,t)=>{e.classList.remove("active")}),l[t].classList.add("active"),s.forEach((e,t)=>{e.classList.remove("active")}),s[t].classList.add("active"),o(t)},init(){l[0].classList.add("active"),s[0].classList.add("active"),o(0)}}})})(),(()=>{const e=document.querySelector(".catalog-faq__list");if(!e)return;const t=document.querySelector(".catalog-faq__cursor");e.onmouseenter=e=>{t.classList.add("show"),t.style.left=e.layerX+"px",t.style.top=e.layerY+"px"},e.onmousemove=e=>{t.style.left=e.layerX+"px",t.style.top=e.layerY+"px"},e.onmouseleave=e=>{t.classList.remove("show"),t.style.left=e.layerX+"px",t.style.top=e.layerY+"px"},document.querySelectorAll(".catalog-faq__item").forEach(e=>{let o=()=>{e.querySelector(".catalog-faq__header.active")||e.querySelector(".collapsing")?t.classList.add("active"):t.classList.remove("active")};e.addEventListener("mouseenter",o),e.addEventListener("mousemove",o),e.addEventListener("mouseleave",o),e.addEventListener("click",e=>{e.target.closest(".catalog-faq__item").querySelector(".catalog-faq__header.active")?t.classList.add("active"):t.classList.remove("active")})}),accordion(".catalog-faq__header",".catalog-faq__spoiler")})(),(()=>{const e=document.querySelector("#colorSelect");e&&(e.onclick=t=>{let{type:o}=t.target.dataset;"clear"===o?(e.classList.remove("filled"),e.querySelectorAll("input").forEach(e=>e.checked=!1)):["input","back","header"].includes(o)?e.classList.contains("open")?e.classList.remove("open"):e.classList.add("open"):t.target.closest("label")&&(e.querySelectorAll("input:checked").length?(e.classList.add("filled"),e.querySelector(".select__title span.count").innerHTML=e.querySelectorAll("input:checked").length):e.classList.remove("filled"))})})(),(()=>{const e=document.querySelectorAll('[name="catalog-view"]'),t=document.querySelector(".catalog-products");e.forEach(e=>{e.addEventListener("change",e=>{1==e.target.value?t.classList.add("row"):t.classList.remove("row")})})})(),(()=>{if(!document.querySelector("#priceSelect"))return;makeRange("#priceSelect",4e5,1e3);const e=document.querySelector("#priceSelect");let t=e.querySelectorAll("input");e.onclick=o=>{let{type:l}=o.target.dataset;"clear"===l?(e.classList.remove("filled"),t[0].value=0,t[1].value=4e5,e.querySelector(".price-slider").style.left=0,e.querySelector(".price-slider").style.right=0):["input","back","header"].includes(l)&&(e.classList.contains("open")?e.classList.remove("open"):e.classList.add("open"))},t.forEach((o,l)=>{o.addEventListener("input",o=>{0==t[0].value&&4e5==t[1].value?e.classList.remove("filled"):e.classList.add("filled")})})})(),makeRange("#priceRange1",4e5,1e3),(()=>{const e=document.querySelectorAll(".sale-banner img");if(!e.length)return;let t=0;setInterval(()=>{e.forEach(e=>e.classList.remove("active")),e[t].classList.add("active"),t<e.length-1?t++:t=0},500)})(),accordion(".filters-modal__subheader",".filters-modal__collapse")}function cartPage(){(()=>{const e=document.querySelector(".cart-aside__promo");if(!e)return;let[t,o]=e.querySelectorAll("button");const l=e.querySelector("input");t.onclick=()=>{l.value="",e.classList.remove("filled")},o.onclick=()=>{e.classList.add("loader")},l.oninput=t=>{t.target.value&&e.classList.add("filled")}})(),(()=>{const e=document.querySelectorAll(".cart-complect");if(!e.length)return;const t=document.querySelectorAll(".cart-with");e.forEach(e=>{new Swiper(e.querySelector(".swiper"),{slidesPerView:1,spaceBetween:12,navigation:{prevEl:e.querySelector(".prev"),nextEl:e.querySelector(".next")},mousewheel:{enabled:!0,forceToAxis:!0}})}),t.forEach(e=>{new Swiper(e.querySelector(".swiper"),{slidesPerView:1,spaceBetween:12,navigation:{prevEl:e.querySelector(".prev"),nextEl:e.querySelector(".next")},mousewheel:{enabled:!0,forceToAxis:!0}})})})(),tabs("[name='cart-tabs']",".cart-page__main [data-tab]")}function checkoutPage(){tabs('[name="checkout-delivery"]',".checkout-delivery__content > [data-tab]");if(!document.querySelector("#deliveryModalSelect"))return;new Select("#deliveryModalSelect",{placeholder:"Выберите службу доставки",selectedId:"cdek",multi:!1,data:[{id:"cdek",value:"CDEK"},{id:"yandex",value:"Yandex"},{id:"box",value:"Boxberry"}],onSelect(e,t){}});document.querySelectorAll(".pvz-card__right button").forEach(e=>{e.onclick=()=>{let t=e.closest(".pvz-card").querySelector(".pvz-card__collapse");t.classList.contains("collapsing")||(t.classList.contains("collapse_show")?(slideHide(t),e.classList.remove("active")):(slideShow(t),e.classList.add("active")))}});const e=document.querySelectorAll(".delivery-modal__tabs input"),t=document.querySelector(".delivery-modal__map"),o=document.querySelector(".delivery-modal__search");e.forEach(e=>{e.onchange=()=>{console.log(e.value),1==e.value?(t.style.zIndex="",o.style.zIndex=""):(t.style.zIndex=15,o.style.zIndex=15)}})}function brendsPage(){const e=document.querySelectorAll(".brends-link__title");if(!e.length)return;const t=document.querySelector(".brends-page__boooks");let o=[...new Set([...e].map(e=>e.innerHTML[0]))];document.querySelectorAll(".brends-link").forEach(e=>{e.setAttribute("data-scroll",e.querySelector(".brends-link__title").innerHTML[0])}),t.innerHTML=o.map(e=>`<li>\n                  <button data-scroll="${e.trim()}" class="icon-btn white">\n                     ${e.trim()}\n                  </button>\n               </li>`).join(""),function(){let e;e=document.querySelector(".header").getBoundingClientRect().height,function(){const t=document.querySelectorAll(".brends-page__boooks .icon-btn"),o=document.querySelectorAll(".brends-link");if(!t.length)return;t.forEach(t=>{t.addEventListener("click",()=>{let l=t.getAttribute("data-scroll");o.forEach(t=>{t.getAttribute("data-scroll")===l&&window.scrollBy({top:t.getBoundingClientRect().top-e,behavior:"smooth"})})})});const l=new IntersectionObserver((e,o)=>{e.forEach(e=>{if(!e.isIntersecting&&e.boundingClientRect.top<0){let o=e.target.closest("li").nextElementSibling.querySelector("[data-scroll]");if(console.log(o),!o||!o.getAttribute("data-scroll"))return;let l=o.getAttribute("data-scroll");t.forEach(e=>{e.classList.remove("active"),e.getAttribute("data-scroll")===l&&e.classList.add("active")})}else if(e.boundingClientRect.top<0){console.log("second");let o=e.target;if(!o||!o.getAttribute("data-scroll"))return;let l=o.getAttribute("data-scroll");t.forEach(e=>{e.classList.remove("active"),e.getAttribute("data-scroll")===l&&e.classList.add("active")})}})},{rootMargin:"0px 0px 75px 0px",threshold:0});o.forEach(e=>l.observe(e))}()}()}function articlePage(){(()=>{const e=document.querySelector(".article-hero__bg");e&&gsap.to(e,{scrollTrigger:{trigger:".home-page",start:window.innerWidth>768?"top 50%":"top 20%",end:"top -20%",scrub:1.5},opacity:1})})(),(()=>{let e=document.querySelector(".article-more .swiper");if(!e)return;new Swiper(e,{slidesPerView:"auto",spaceBetween:12,pagination:{el:".article-more .swiper-pagination",type:"progressbar"},mousewheel:{enabled:!0,forceToAxis:!0},breakpoints:{1025:{slidesPerView:4,spaceBetween:12},569:{slidesPerView:"auto",spaceBetween:12}}})})(),(()=>{const e=document.querySelector(".article-subscribe__form button");e&&(e.onclick=()=>{document.querySelector(".article-subscribe__form").style.display="none",document.querySelector("#thanks").style.display="block"})})()}function authModal(){tabs("[name='auth-modal-tabs']",".auth-modal__mainform [data-tab]");const e=document.querySelector(".auth-modal"),t=document.querySelectorAll("[name='auth-modal-tabs']"),o=document.querySelector(".auth-modal__mainform .icon-btn"),l=document.querySelector(".auth-modal .filters-modal__header p button"),s=document.querySelector(".auth-modal__mainform [name='auth-phone']"),a=document.querySelector(".auth-modal__mainform [name='auth-email']");o.onclick=()=>{o.classList.add("loader"),setTimeout(()=>{e.classList.add("step-2")},500)},l.onclick=()=>{e.classList.remove("step-2"),o.classList.remove("loader")},o.classList.add("disabled"),s.oninput=()=>{18==s.value.length?o.classList.remove("disabled"):o.classList.add("disabled")},a.oninput=()=>{validEmail(a.value)?o.classList.remove("disabled"):o.classList.add("disabled")},t.forEach(e=>{e.onchange=()=>{console.log(e.value),0==e.value&&(18==s.value.length?o.classList.remove("disabled"):o.classList.add("disabled")),1==e.value&&(validEmail(a.value)?o.classList.remove("disabled"):o.classList.add("disabled"))}})}function productSlider(e){let t=document.querySelector(e+" .swiper");if(!t)return;new Swiper(t,{slidesPerView:"auto",spaceBetween:8,pagination:{el:e+" .swiper-pagination",type:"progressbar"},mousewheel:{enabled:!0,forceToAxis:!0},breakpoints:{1025:{slidesPerView:4,spaceBetween:12},569:{slidesPerView:2,spaceBetween:12}}})}function productCards(){const e=document.querySelectorAll(".product-card");e.length&&e.forEach((e,t)=>{if(e.querySelector(".product-card__color input")){let t=e.querySelector(".product-card__color input").name;tabs(`[name=${t}]`,`[data-tab-name=${t}]`)}})}function reviews(){if(!document.querySelector(".reviews-section"))return;const e=document.querySelector(".reviews-section__navigation .prev"),t=document.querySelector(".reviews-section__navigation .next"),o=document.querySelector(".reviews-section__text");let l=0,s=[{text:"«Купила Korg c1 Air коричневый. Инструментом довольна, как и самим магазином с его внимательными консультантами. И да, не обманщики)) не бойтесь заказывать доставку в регион, хоть это и потребует полной предоплаты. Большое спасибо! не бойтесь заказывать доставку в регион, хоть это и потребует полной предоплаты. Большое спасибо!",author:{name:"Екатерина Незнанова",date:"29 сент 2024"},rating:4},{text:"Инструментом довольна, как и самим магазином с его внимательными консультантами. И да, не обманщики)) не бойтесь заказывать доставку в регион, хоть это и потребует полной предоплаты. Большое спасибо! не бойтесь заказывать доставку в регион, хоть это и потребует полной предоплаты. Большое спасибо!",author:{name:"Екатерина",date:"28 сент 2024"},rating:5},{text:"И да, не обманщики)) не бойтесь заказывать доставку в регион, хоть это и потребует полной предоплаты. Большое спасибо! не бойтесь заказывать доставку в регион, хоть это и потребует полной предоплаты. Большое спасибо!",author:{name:"иван иванов",date:"29 окт 2024"},rating:4},{text:"«Купила Korg c1 Air коричневый. Большое спасибо!",author:{name:"Василиса Незнанова",date:"29 сент 2023"},rating:3},{text:"И да, не обманщики)) не бойтесь заказывать доставку в регион, хоть это и потребует полной предоплаты. Большое спасибо! не бойтесь заказывать доставку в регион, хоть это и потребует полной предоплаты. Большое спасибо!",author:{name:"Екатерина Незнанова",date:"29 сент 2022"},rating:5}];async function a(){var e;await async function(){let e=[...o.querySelectorAll("span"),...document.querySelectorAll(".reviews-section__info span"),...document.querySelectorAll(".reviews-section__rating li")],t=Array.from(e).map(e=>new Promise(t=>{gsap.to(e,{y:"-100%",duration:.3,ease:"linear",onComplete:t})}));return await Promise.all(t),!0}(),await(e=500,new Promise(t=>setTimeout(t,e)));let t=s[l];const[a,r]=document.querySelectorAll(".reviews-section__info p"),[c,i]=document.querySelectorAll(".reviews-section__pagination span"),n=document.querySelector(".reviews-section__rating");o.innerHTML=t.text.split(" ").map(e=>`<p><span>${e}</span></p>`).join(" "),a.innerHTML=`<span>${t.author.name}</span>`,r.innerHTML=`<span>${t.author.date}</span>`,c.innerHTML=l+1,i.innerHTML=s.length;let d=[];for(let e=0;e<t.rating;e++)d.push('<li>\n            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="17" viewBox="0 0 18 17"\n                                      fill="none">\n                                      <path\n                                         d="M8.52447 0.463525C8.67415 0.00287008 9.32585 0.00287008 9.47553 0.463525L11.1329 5.56434C11.1998 5.77035 11.3918 5.90983 11.6084 5.90983H16.9717C17.4561 5.90983 17.6575 6.52964 17.2656 6.81434L12.9266 9.96681C12.7514 10.0941 12.678 10.3198 12.745 10.5258L14.4023 15.6266C14.552 16.0873 14.0248 16.4704 13.6329 16.1857L9.29389 13.0332C9.11865 12.9059 8.88135 12.9059 8.70611 13.0332L4.3671 16.1857C3.97524 16.4704 3.448 16.0873 3.59768 15.6266L5.25503 10.5258C5.32197 10.3198 5.24864 10.0941 5.07339 9.96681L0.734384 6.81434C0.342527 6.52964 0.543915 5.90983 1.02828 5.90983H6.39159C6.6082 5.90983 6.80018 5.77035 6.86712 5.56434L8.52447 0.463525Z"\n                                         fill="#182126" />\n                                   </svg>\n           </li>');n.innerHTML=d.join(" ");o.scrollHeight;o.style.minHeight=o.clientHeight+"px",await async function(){let e=[...o.querySelectorAll("span"),...document.querySelectorAll(".reviews-section__info span"),...document.querySelectorAll(".reviews-section__rating li")],t=Array.from(e).map(e=>new Promise(t=>{gsap.from(e,{y:"100%",duration:.3,ease:"linear",onComplete:t})}));return await Promise.all(t),!0}()}e.onclick=()=>{0==l?l=s.length-1:l--,a()},t.onclick=()=>{l==s.length-1?l=0:l++,a()},a()}function blogCards(){const e=document.querySelectorAll(".blog-card");if(!e.length)return;const t=document.querySelectorAll(".blog-section .home-catalog__arrow");e.forEach((e,o)=>{let l=t[o];e.onmouseenter=e=>{l.classList.add("active")},e.onmousemove=e=>{l.style.left=e.offsetX+"px",l.style.top=e.offsetY+"px"},e.onmouseleave=e=>{l.classList.remove("active")}})}function footer(){const e=document.querySelector(".footer__form");if(!e)return;e.querySelector("button").onclick=()=>{e.classList.add("step-2")},window.innerWidth<=568&&accordion(".footer-spoiler__header",".footer__block .collapse")}function productPage(){!function(){const e=document.querySelector(".product-hero .swiper");if(!e)return;let t=new Swiper(e,{slidesPerView:"auto",freeMode:{enabled:!0,sticky:!0},loop:!0,speed:7e3,autoplay:{enabled:!0,delay:0,disableOnInteraction:!1}});t.on("touchStart",()=>{t.params.speed=1e3}),t.on("touchEnd",()=>{setTimeout(()=>{t.params.speed=7e3,t.autoplay.start()},200)});const o=document.querySelector(".product-hero__description button"),l=document.querySelector(".product-hero__description ul");o.onclick=()=>{o.classList.toggle("active"),l.classList.toggle("full")}}(),async function(){if(!document.querySelector(".product-description"))return;let e=[{title:"Becker BAP 62R",subtitle:"Цифровое пианино компании Becker, использующей в производстве современные итальянские и французские технологии. Бренд основал мастер фортепиано Якоб Беккер в Петербурге в 1841 году. Компания стала самым известным производством клавишных музыкальных инструментов. Пианино быстро получило распространение за пределами страны благодаря отличному звучанию, качеству инструмента, высокому уровню сборки и долговечности. "},{title:"Звук",subtitle:"Цифровое пианино компании Becker, использующей в производстве современные итальянские и французские технологии. Бренд основал мастер фортепиано Якоб Беккер в Петербурге в 1841 году. Компания стала самым известным производством клавишных музыкальных инструментов. Пианино быстро получило распространение за пределами страны "},{title:"Клавиатура",subtitle:"Цифровое пианино компании Becker, использующей в производстве современные итальянские и французские технологии. Бренд основал мастер фортепиано Якоб Беккер в Петербурге в 1841 году. Компания стала самым известным производством клавишных музыкальных инструментов. Пианино быстро получило распространение за пределами страны благодаря отличному звучанию, качеству инструмента "},{title:"Функции",subtitle:"Цифровое пианино компании Becker, использующей в производстве современные итальянские и французские технологии. Бренд основал мастер фортепиано Якоб Беккер в Петербурге в 1841 году. Компания стала самым известным производством клавишных музыкальных инструментов. Пианино быстро получило распространение за пределами страны благодаря отличному звучанию, качеству инструмента, высокому уровню "},{title:"Дизайн",subtitle:"Цифровое пианино компании Becker, использующей в производстве современные итальянские и французские технологии. Бренд основал мастер фортепиано Якоб Беккер в Петербурге в 1841 году. Компания стала самым известным производством клавишных музыкальных инструментов. Пианино быстро получило распространение за пределами страны благодаря отличному звучанию, качеству инструмента, высокому уровню сборки "},{title:"для кого",subtitle:"Цифровое пианино компании Becker, использующей в производстве современные итальянские и французские технологии. Бренд основал мастер фортепиано Якоб Беккер в Петербурге в 1841 году. Компания стала самым известным производством клавишных музыкальных инструментов. Пианино быстро  "}];const t=document.querySelector(".product-description__title"),o=document.querySelector(".product-description__text"),l=document.querySelector(".reviews-section__navigation .prev"),s=document.querySelector(".reviews-section__navigation .next"),a=document.querySelectorAll(".product-description__tabs input"),r=document.querySelector(".reviews-section__pagination span"),c=document.querySelectorAll(".product-description__gallery img");let i=0,n=0;async function d(){var l;c.forEach(e=>{e.classList.remove("active"),e.classList.remove("prev")}),c[n].classList.add("prev"),c[i].classList.add("active"),u(),l=500,new Promise(e=>setTimeout(e,l)),t.innerHTML=e[i].title.split(" ").map(e=>`<p><span>${e}</span></p>`).join(" "),o.innerHTML=`<p>${e[i].subtitle}</p>`,u()}async function u(){let e=[...t.querySelectorAll("span")],o=Array.from(e).map(e=>new Promise(t=>{gsap.from(e,{y:"100%",duration:.3,ease:"linear",onComplete:t})}));return await Promise.all(o),!0}l.onclick=()=>{0==i?(i=a.length-1,n=0):(n=i,i--),a[i].checked=!0,r.innerHTML=i+1,d()},s.onclick=()=>{i==a.length-1?(i=0,n=a.length-1):(n=i,i++),a[i].checked=!0,r.innerHTML=i+1,d()},a.forEach((e,t)=>{e.addEventListener("change",()=>{n=i,i=t,r.innerHTML=i+1,d()})})}(),tabs('[name="product-tabs"]',".product-tabs__items > div"),accordion(".rent-description__header",".rent-description__collapse")}function makeRange(e,t=1e4,o=500){const l=document.querySelector(e+" .slider-container .price-slider");if(!document.querySelector(e+" .slider-container .price-slider"))return;const s=document.querySelectorAll(e+" .range-input input");let a=o;const r=document.querySelectorAll(e+" .price-input input");for(let e=0;e<r.length;e++){r[e].addEventListener("input",e=>{let o=parseInt(r[0].value),c=parseInt(r[1].value),i=c-o;if(o<0&&(alert("minimum price cannot be less than 0"),r[0].value=0,o=0),c>t&&(alert("maximum price cannot be greater than "+t),r[1].value=t,c=t),o>c-a&&(r[0].value=c-a,o=c-a,o<0&&(r[0].value=0,o=0)),i>=a&&c<=s[1].max)if("min-input"===e.target.className){s[0].value=o;let e=s[0].max;l.style.left=o/e*100+"%"}else{s[1].value=c;let e=s[1].max;l.style.right=100-c/e*100+"%"}});for(let e=0;e<s.length;e++)s[e].addEventListener("input",e=>{let t=parseInt(s[0].value),o=parseInt(s[1].value);o-t<a?"min-range"===e.target.className?s[0].value=o-a:s[1].value=t+a:(r[0].value=t,r[1].value=o,l.style.left=t/s[0].max*100+"%",l.style.right=100-o/s[1].max*100+"%")})}}gsap.registerPlugin(ScrollTrigger),document.addEventListener("DOMContentLoaded",()=>{headerWork(),homePage(),productCards(),footer(),catalogPage(),productPage(),cartPage(),checkoutPage(),brendsPage(),aboutPage(),articlePage(),authModal()});class Select{constructor(e,t){this.$el=document.querySelector(e),this.options=t,this.selectedId=t.selectedId,this.render(),this.setup()}render(){this.$el.classList.add("select");const{placeholder:e,data:t,selectedId:o}=this.options;this.$el.innerHTML=this.getTemplate(t,e,o),e&&this.$el.querySelector('[data-type="input"]').classList.add("placeholder")}setup(){this.clickHandler=this.clickHandler.bind(this),this.$el.addEventListener("click",this.clickHandler),this.$value=this.$el.querySelector('[data-type="input"] span')}clickHandler(e){const{type:t}=e.target.dataset;if("clear"===t)return this.$el.classList.remove("filled"),this.$value.innerHTML=`\n            ${this.options.placeholder}\n            \n            `,this.$el.querySelectorAll(".select__item").forEach(e=>e.classList.remove("selected")),this.$el.querySelectorAll("input").forEach(e=>e.checked=!1),void(this.selectedId=[]);if("input"===t)this.toggle();else if("item"===t){const{id:t}=e.target.dataset;this.select(t)}else("back"===t||"header"===t||e.target.closest(".select__header"))&&this.toggle()}get current(){return this.options.multi?this.options.data.filter(e=>this.selectedId.some(t=>t===e.id)):this.options.data.find(e=>e.id===this.selectedId)}select(e){this.$el.querySelector('[data-type="input"]').classList.remove("placeholder"),this.options.multi?(this.selectedId.some(t=>t==e)?this.selectedId.splice(this.selectedId.findIndex(t=>t==e),1):this.selectedId.push(e),this.current.length?this.$value.innerHTML=`\n            ${this.options.placeholder}\n            <span>${this.current.length}</span>\n            `:(this.$value.innerHTML=this.options.placeholder,this.$el.classList.remove("filled"))):(this.selectedId=e,this.$value.innerHTML=this.current.value,"vibor-muzrum"==this.selectedId&&(this.$value.innerHTML=this.current.value+' <button class="hint">\n            <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 14 14" fill="none">\n  <path d="M6.99984 12.8333C3.77817 12.8333 1.1665 10.2216 1.1665 6.99999C1.1665 3.77833 3.77817 1.16666 6.99984 1.16666C10.2215 1.16666 12.8332 3.77833 12.8332 6.99999C12.8332 10.2216 10.2215 12.8333 6.99984 12.8333ZM6.4165 8.74999V9.91666H7.58317V8.74999H6.4165ZM7.58317 7.79046C8.4265 7.53946 9.0415 6.7582 9.0415 5.83332C9.0415 4.70574 8.12742 3.79166 6.99984 3.79166C6.00934 3.79166 5.18355 4.49702 4.99744 5.43284L6.14164 5.66169C6.22144 5.26062 6.57535 4.95832 6.99984 4.95832C7.48307 4.95832 7.87484 5.35007 7.87484 5.83332C7.87484 6.31656 7.48307 6.70832 6.99984 6.70832C6.67766 6.70832 6.4165 6.96948 6.4165 7.29166V8.16666H7.58317V7.79046Z" fill="black" fill-opacity="0.35"/>\n</svg>\n<p>\nСначала покажем лучшее по версии Музрум\n</p>\n\n</button>')),this.$el.querySelectorAll('[data-type="item"]').forEach(e=>{e.classList.remove("selected")}),this.options.multi?this.current.forEach(e=>{this.$el.querySelector(`[data-id='${e.id}']`).classList.add("selected")}):this.$el.querySelector(`[data-id='${this.current.id}']`).classList.add("selected"),this.options.multi||this.close(),this.options.onSelect&&this.options.onSelect(this.current,this.$el)}open(){this.$el.classList.add("open")}close(){this.$el.classList.remove("open")}toggle(){this.$el.classList.contains("open")?this.close():this.open()}getTemplate(e,t="<span></span>",o){const l=e.map(e=>{let l="";return(this.options.multi&&o.some(t=>t==e.id)||!this.options.multi&&e.id===o)&&(t=e.value,l="selected"),this.options.multi,`<li class="select__item ${l}" data-type="item" data-id="${e.id}">\n         \n         ${e.value}\n         </li>`});return`\n      <div class="select__header" data-type="header">\n      <div class="select__back" data-type="back"></div>\n      <div class="select__title" data-type="input">\n         <span>${t}</span>\n         <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">\n            <path fill-rule="evenodd" clip-rule="evenodd" d="M13.9334 6.08291C14.1498 6.29933 14.1498 6.6502 13.9334 6.86662L7.99991 12.8001L2.06643 6.86662C1.85002 6.6502 1.85002 6.29933 2.06643 6.08291C2.28285 5.8665 2.73748 5.86637 2.9539 6.08278L8.00027 11.0924L12.9972 6.08272C13.2136 5.86631 13.717 5.8665 13.9334 6.08291Z" fill="black"/>\n         </svg>\n         <button data-type="clear">\n           <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">\n  <path d="M3 3L13 13M3 13L13 3" stroke="white"/>\n</svg>    \n         </button>      \n         \n    </div>\n      </div>\n      <div class="select__content">\n         <ul class="select__list">\n            ${l.join("")}\n         </ul>\n      </div>\n      `}}function tabs(e,t){const o=document.querySelectorAll(e),l=document.querySelectorAll(t);let s;o.length&&o.forEach(e=>{e.addEventListener("change",()=>{e.checked&&(s=e.value),l.forEach(e=>{e.classList.remove("active"),e.getAttribute("data-tab")==s&&e.classList.add("active")})})})}function accordion(e,t){const o=document.querySelectorAll(""+e),l=document.querySelectorAll(""+t);if(o.length>0)for(let e=0;e<o.length;e++){let t=o[e];t.addEventListener("click",()=>{for(let e=0;e<l.length;e++){if(l[e].classList.contains("collapsing"))return;slideHide(l[e])}for(let e=0;e<o.length;e++)o[e].classList.remove("active");let s=l[e];s.classList.contains("collapsing")||(s.classList.contains("collapse_show")?t.classList.remove("active"):t.classList.add("active"),slideShow(s))})}}function slideShow(e,t=500){if(e.classList.contains("collapsing")||e.classList.contains("collapse_show"))return;e.classList.remove("collapse");const o=e.offsetHeight;e.style.height=0,e.style.overflow="hidden",e.style.transition=`height ${t}ms ease`,e.classList.add("collapsing"),e.offsetHeight,e.style.height=o+"px",window.setTimeout(()=>{e.classList.remove("collapsing"),e.classList.add("collapse"),e.classList.add("collapse_show"),e.style.height="",e.style.transition="",e.style.overflow=""},t)}function slideHide(e,t=500){!e.classList.contains("collapsing")&&e.classList.contains("collapse_show")&&(e.style.height=e.offsetHeight+"px",e.offsetHeight,e.style.height=0,e.style.overflow="hidden",e.style.transition=`height ${t}ms ease`,e.classList.remove("collapse"),e.classList.remove("collapse_show"),e.classList.add("collapsing"),window.setTimeout(()=>{e.classList.remove("collapsing"),e.classList.add("collapse"),e.style.height="",e.style.transition="",e.style.overflow=""},t))}const popupLinks=document.querySelectorAll(".modal__link"),lockPadding=document.querySelectorAll(".lock-padding"),popupCloseIcon=document.querySelectorAll(".modal__close");let unlock=!0;const timeout=500;if(popupLinks.length>0)for(let e=0;e<popupLinks.length;e++){const t=popupLinks[e];t.addEventListener("click",(function(e){const o=t.getAttribute("href").replace("#","");popupOpen(document.getElementById(o)),e.preventDefault()}))}if(popupCloseIcon.length>0)for(let e=0;e<popupCloseIcon.length;e++){const t=popupCloseIcon[e];t.addEventListener("click",(function(e){popupClose(t.closest(".modal")),e.preventDefault()}))}function popupOpen(e){if(e&&unlock){const t=document.querySelector(".modal.open");t?popupClose(t,!1):bodyLock(),e.classList.add("open"),e.addEventListener("click",(function(e){e.target.closest(".modal__content")||popupClose(e.target.closest(".modal"))}))}}function popupClose(e,t=!0){unlock&&(e.classList.remove("open"),t&&bodyUnLock())}function bodyLock(){const e=window.innerWidth-document.querySelector(".wrapper").offsetWidth+"px";if(lockPadding.length>0)for(let t=0;t<lockPadding.length;t++){lockPadding[t].style.paddingRight=e}body.style.paddingRight=e,body.classList.add("lock"),unlock=!1,setTimeout((function(){unlock=!0}),500)}function bodyUnLock(){setTimeout((function(){if(lockPadding.length>0)for(let e=0;e<lockPadding.length;e++){lockPadding[e].style.paddingRight="0px"}body.style.paddingRight="0px",body.classList.remove("lock")}),500),unlock=!1,setTimeout((function(){unlock=!0}),500)}function validEmail(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}document.addEventListener("keydown",(function(e){if(27===e.which){popupClose(document.querySelector(".modal.open"))}}));
//# sourceMappingURL=../sourcemaps/app.min.js.map
